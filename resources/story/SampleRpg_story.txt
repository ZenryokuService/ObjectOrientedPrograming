# サンプルゲームストーリー
# 行頭の文字にて、以下の項目を判定する。
# 1. シャープ(#)はコメント
# 2. １行に、シーンIndex:シーンタイプを記述することでシーンを作成できる。 (例) 0:A
# 3. １行に、「END_SCENE」を記述することで、シーンを終わる。「END_SCENE 1」のように記述することで次のシーンを指定できる。
# 4. また、「END_SCENE オプション」O=ゲームオーバー, C=クリア、ゲームの進行状況は自動保存されます。
# 5. ステータスに関して、基本はHP, MP, ちから(POW), すばやさ(SPD), かしこさ(INT), きようさ(AGR), カリスマ(CRS)を使用する。
# 6. 【Ver 2.0以上で実装予定】このサンプルでは、生年月日よりステータスを生成する形を示します。
#  ＜設定に関して＞
#  以下設定項目カテゴリが存在する
# ・マスタカテゴリ：作成するゲームの土台となるカテゴリを定義する。
# ・ステータス定義：ゲーム内で使用するステータスを定義する。
# ・パラメータ定義：ゲーム内で使用する設定値(パラメータ)を定義する。まほう、わざ、作成するゲーム内のみで使用する項目の定義
# 　例：ゲーム内の通貨(本サンプルでは「ニギ(NIG)」を通貨としている。
# ・アイテム定義：アイテムの効果、用途を定義する。
# ・アイテムリスト定義；使用するアイテムの詳細を定義する。
# ・計算式定義：各項目(記号で定義しているもの)の算出方法を定義する。
# ・職業定義：各職業の定義
#
# 「CONFIG_XXXXX」で始まる行から設定を開始する
# Status Name: Discription
# ちから: 攻撃力。武器、防具の装備できる重量を示す
# すばやさ: 回避力、相手とのすばやさの差が5以上のとき２回攻撃可能
# かしこさ: 魔法、術の類の効果の大きさを示す
# きようさ: 武器、道具、魔法などを使用できる種類が増える
# カリスマ: この値が大きいほど、人やモンスターに好かれやすく、統率力も高くなる
# 最後は改行のみの行を入れる
# ＜デフォルト設定＞ : デフォルトステータス(HP, MP, LV)など、常識的に扱われているものに関しては「**Z**XX」のように、マスタカテゴリに定義する。
# HP: これが0になると行動不能、戦闘不能になる。
# MP: まほう・術・わざなどを使用するのに使用する。
#
# ＜ステータス設定(CONFIG_STATUS)＞
#   ちから: 攻撃力、武器・防具の持てる合計重量を示す。: POW
#   すばやさ: 行動の速さ、相手と５以上の差があるとき２回攻撃。: AGI
#   かしこさ: 魔法・術などの効果量を示す。:INT
#   きようさ: 使える武器、防具、魔法・術などの種類が増える。: DEX
#   カリスマ: 人やモンスターに好かれる度合、統率力を示す。: KSM
#
# ＜パラメータ設定(CONFIG_PARAM)＞
#    ＜ダイスコード: 必須＞
#    3D6: 6面ダイスを３回降るなどの指定を行う
#    <printLine: 7>: 一度に表示する行数の指定
#    ＜カテゴリ設定＞
#    名前:記号:ステータスに関連する:説明:親カテゴリの記号:デフォルト値 ＝ 各項目の名前とそれに対応する記号を設定する。これらをもとにアイテム、まほうなどを設定する。また、親カテゴリを設定することで、例えばステータス異常の中に「どく」「せきか」「まひ」がある形に設定することができる、親カテゴリがない場合は「-」を設定する
#    「以下は例」
#    アイテム:ITM:-:薬草など使用することでその効果を発揮するもの:-:-
#    ぶき:WEP:PLY:装備することで攻撃力(ATK)を上げることができる:-:0
#    ぼうぐ:ARM:PLY:装備することで防御力(DIF)を上げることができる:-:0
#    まほう:MAG:PLY:MPを消費して使用することができる特殊能力:-:0
#    わざ:TEC:PLY:MPを消費して使用することができる特殊能力:-:0
#    りりょく:FRC:PLY:MPを消費して使用することができる特殊能力:-:0
#    ステータス異常:STS:STO:ステータス異常を示し、色々な作用を及ぼす:-:-
#    どく:POI:STO:ステータス異常を示す、1ターンごとに体力の10%程のダメージを受ける、戦闘後元に戻る:STS:-
#    せきか:STN:STO:ステータス異常を示す、石化解除するまでうごくことができない。:STS:-
#    まひ:MAH:STO:ステータス異常を示す、:STS
#    アイテム保持可能数:ITN:PLY:アイテムを持てる数、デフォルトバックパックはITN=8になっている:-:0
#    武器攻撃力:WEB:PLY武器を装備したときの増幅するATK:-:0
#    防具防御力:ARV:PLY防具を装備したときの増幅するDIF:-:0
#    魔法威力:MPW:PLY:魔法・術、単体の効果値:-:0
#    魔よけ力:TSM:PLY:防具・アクセサリ内にある。魔法・術に対する魔除けの類の力、防具にのみついている。:-:0
#    ニギ:NIG:MNY:このゲームで使用する通貨:-:-
#    
# ＜アイテム定義＞
# 名前:アイテム種類:効果[=|+|-|*|/]値:副作用:副作用の数値
# カテゴリID:カテゴリ名:用途・説明:読み方
# CONFIG_ST_EFFECT
# POI:どく:HP-10%:どくをうけた
# STN:せきか:DNV:せきかした
# MAH:まひ:NOA:まひした
# PWB:ちから:POW+10%:ちからがみなぎる
# INB:まほう:INT+10%:さとりをひらいた
# END_EFFECT


CONFIG_MASTER
ZHP:生命力・体力:これがなくなると戦闘不能や行動不能になる:ヒットポイント
ZMP:まほう・技術:まほうや、技などを使用するときに使用する:マジックポイント
ZLV:レベル:対象キャラクターの強さを表す指標:レベル
MNY:通貨:ゲームブックの世界で使用する通貨:マネー
ATK:物理攻撃力:武器等の物理的な攻撃力を示す:アタック
DEF:物理防御力:武器等に対する物理的な防御力を示す:ディフェンス
MPW:魔法威力:まほう・じゅつなどの効果値:マジックパワー
MAT:魔法・術攻撃力:魔法・術などの効力を示す。式= (かしこさ + きようさ+カリスマ) / 3 + 魔法威力:マジックアタック
MDE:魔法・術などの攻撃に対する耐性。式= (かしこさ + きようさ + すばやさ) / 3 + 魔よけ力:魔法防御力:マジックディフェンス
PLY:プレーヤーオプションステータス:プレーヤーステータスに追加する項目、攻撃力や防御力などの拡張に使用する:プレーヤオプション
STO:ステータス異常拡張:毒やマヒ、石化などステータス異常の定義を行う:ステータスオプション
NOA:行動不能:石化や、マヒ、何かしらのステータス異常で、行動不能になることを示す:ノーアクション
DNV:移動・行動不能:シーンの移動、戦闘での行動、すべての行動ができない状態を示す:ドントムーブ
BST:強化:ステータスが向上する、ポジティブなステータス変化:ブースト
END_MASTER

CONFIG_PARAM
<1D6>
# <printLine: 7>
アイテム:ITM:-:薬草など使用することでその効果を発揮するもの:-:-
アイテム効果:ITV:PLY:アイテムを使用したときの効果値:-:0
ぶき:WEP:PLY:装備することで攻撃力(ATK)を上げることができる:-:0
ぼうぐ:ARM:PLY:装備することで防御力(DIF)を上げることができる:-:0
まほう:MAG:PLY:MPを消費して使用することができる特殊能力:-:0
わざ:TEC:PLY:MPを消費して使用することができる特殊能力:-:0
りりょく:FRC:PLY:MPを消費して使用することができる特殊能力:-:0
ステータス異常:STS:STO:ステータス異常を示し、色々な作用を及ぼす:-:-
どく:POI:STO:ステータス異常を示す、1ターンごとに体力の10%程のダメージを受ける、戦闘後元に戻る:STS:-
せきか:STN:STO:ステータス異常を示す、石化解除するまでうごくことができない。:STS:-
まひ:MAH:STO:ステータス異常を示す、:STS:-
アイテム保持可能数:ITN:PLY:アイテムを持てる数、デフォルトバックパックはITN=8になっている:-:0
武器攻撃力:WEV:PLY:武器を装備したときの増幅するATKを示す:-:0
防具防御力:ARV:PLY:防具を装備したときの増幅するDIFを示す:-:0
魔法威力:MPW:PLY:魔法・術、単体の効果値:-:0
魔よけ力:TSM:PLY:防具・アクセサリ内にある。魔法・術に対する魔除けの類の力、防具にのみついている。:-:0
ニギ:NIG:MNY:このゲームで使用する通貨:-:0
バックパック:BPK:PLY:道具などを持って歩くための入れ物、アイテム所持量を増やす。デフォルトの容量は5:-:0
物理攻撃力:ATK:PLY:物理的な攻撃力を示す。式= (ちから + 武器攻撃力) * (1 + (0.1 * じゅくれんど)):-:0
物理防御力:DEF:PLY:物理的な防御力を示す。式= (ちから + すばやさ+きようさ) / 3 + 防具防御力: -:0
魔法・術攻撃力:MAT:PLY:魔法s・術の効力を示す。式= (かしこさ + きようさ+カリスマ) / 3  + 魔法威力: -:0
魔法・術防御力:MDE:PLY:魔法・術の攻撃に対する耐性。式= (かしこさ + きようさ + すばやさ) / 3 + 魔よけ力: -:0
アイテム使用力:ITM:PLY:アイテムの使用時の効果を増減する。式=(((かしこさ + きようさ) / 2 ) * 0.1) * アイテム効果 :-:0
使役力:CST:PLY:モンスター・動物など使役するものの力を増減する。式=( 1 + カリスマ * 0.1 ) :-:0
回避力:EVR:PLY:攻撃を回避する能力、パーセンテージで計算する。式=(すばやさ + かしこさ + きようさ) / 100 :-:0
じゅくれんど:JLV:PLY:武器を使用する回数により武器の扱いがうまくなる:-:0
END_PARAM

CONFIG_STATUS
ちから: 攻撃力、武器・防具の持てる合計重量を示す。: POW
すばやさ: 行動の速さ、相手と５以上の差があるとき２回攻撃。: AGI
かしこさ: 魔法・術などの効果量を示す。:INT
きようさ: 使える武器、防具、魔法・術などの種類が増える。: DEX
カリスマ: 人やモンスターに好かれる度合、統率力を示す。: KSM
END_STATUS

ITEM_LIST
ぼくとう:WEP:WEV=3: 30:ITN-1
やくそう:ITM:HP+10: 30: ITN-1
ぬののふく:ARM:ARV=3: 30: ITN- 2
たんけん:WEP:WEV=50:50:ITN-1
どくけし: ITM:ITV=POI: 30: ITN-1
END_ITEM_LIST

CONFIG_FORMULA
物理攻撃力: 物理的な攻撃力を示す。式= (ちから + 武器攻撃力) * (1 + (0.1 * じゅくれんど)): ATK
物理防御力: 物理的な防御力を示す。式= (ちから + すばやさ+きようさ) / 3 + 防具防御力: DEF
魔法・術攻撃力: 魔法・術の効力を示す。式= (かしこさ + きようさ+カリスマ) / 3  + 魔法威力: MAT
魔法・術防御力: 魔法・術の攻撃に対する耐性。式= (かしこさ + きようさ + すばやさ) / 3 + 魔よけ力: MDE
アイテム使用力: アイテムの使用時の効果を増減する。式=(((かしこさ + きようさ) / 2 ) * 0.1) * アイテム効果 :ITM
使役力: モンスター・動物など使役するものの力を増減する。式=( 1 + カリスマ * 0.1 ) : CST
回避力: 攻撃を回避する能力、パーセンテージで計算する。式=(すばやさ + かしこさ + きようさ) / 100 : EVR
アイテム所持数: アイテムを持てる数を示す。式= (ちから + きようさ) / 2 + バックパック: ITN
END_FORMULA

CONFIG_JOB
勇者: 勇気ある者。バランスよく剣と魔法を使える。: BRAVER
戦士: 闘う者。ちからが強く、カリスマが低い。魔法・術は使えない。: WARRIOR
僧侶: お坊さん。カリスマと、かしこさが高く魔除け力がLv分プラスされる: MONK
魔法使い: 魔法を使う。きようさ、かしこさ、カリスマが高い: WIZARD
END_JOB

0:A
この部分(0:A)は削除したり、修正しないでください。このコメントにあるルールで作成されたテキストファイルを読み込み
ゲームブックのように、選択肢を指定することでゲームの内容が進んでいきます。
ゲームの途中、買い物、宿屋に泊まる、アイテムを取得など、様々なイベントに対応できます。
シーンの終わりには、END_SCENEのみを一行に記述します。下のような形です。
END_SCENE 1

1:A
END_SCENEの後にスペースをシーンインデックスを入れてシーンを移動することができます。
各シーンにはA～Eのシーンタイプを指定することで、各シーンで起きるイベントを指定することができます。
A 何もなく次のシーンに移動する、移動の場合も単純に別の場所のシーンを設定。
  "END_SCENE 1"と指定したときは、自動でシーン１に移動する。呼び出したシーンによりA～Eのイベントが起動する。
  3つの選択肢を用意するときは「<1:3>」のように書いてから「1. XXXXX」のように選択肢を用意します。
  同様に、スペースを空け次のシーンインデックスへ移動します。
B 店舗(道具屋、武器屋など)に入って買い物ができるイベントに移動
C パーティのステータスが変化(全回復、ステータス異常など)
D アイテム、武器・防具の取得
E ゲーム終了、次の終了パターンがある。セーブするとき(S)と、ゲームオーバー(O)、ゲームクリア(C)
F バトルシーンに移動します。
G プレーヤー生成を行います。
H ゲームクリアして終了する。
I 保存して終了する。

また、プレーヤー作成を行うときは「create」を使用してください。
<入力ルール>
1. 何面ダイスで何位回降るか？: 1D6 = ６面ダイスを１回、3D10 = １０面ダイスを３回
2. ステータス名: 説明:　記号(ATKなど)

次のシーンを選択させたい場合、例えば選択肢Aのときはシーン番号2へ移動するといった形でゲームを作るときは
<選択肢番号開始:選択肢番号終了>の形で、文字を入力してください。具体的には下のような形です。

どのシーンに移動しますか？
<1:9>
1. 店舗に移動します。 4
2. パーティーステータスが変化します。 5
3. アイテムの取得などします。 6
4. ゲーム終了します。 3
5. バトルシーンに移動します。 2
6. プレーヤー生成。 9
7. ゲームオーバー 7
8. 終了(保存) 8
END_SCENE 2

2:F
戦闘シーンです。サンプルモンスターが現れた！
END_SCENE 3

3:A
ゲームクリアです。おめでとうございます！
END_SCENE C

4:B
店舗です。
<item:ShopName>
やくそう, 30, HPを10回復する
たんけん, 50, 武器
ぬののふく, 45, 防具
どくけし, 30, 使用した相手に、ステータス異常の「どく」をあたえる
</item>
END_SCENE 1

5:C
パーティーステータス変化
<effect:HP+20>
タイガーマスクもびっくりだ。。。
</effect>
END_SCENE 1

6:D
アイテムの取得、お金を100ニギもらった。
<effect:MNY+100>
ラッキー！
</effect>
END_SCENE 1

7:A
ゲームオーバーです。
END_SCENE C

8:A
保存して終了します。お疲れさまでした。
END_SCENE S

9:G
プレーヤーの作成を行います。ダイスコード、使用するステータス(以下サンプル)、
<1D6>
ちから: 攻撃力、武器・防具の持てる合計重量を示す。:POW
すばやさ: 行動の速さ、相手と５以上の差があるとき２回攻撃。:AGI
かしこさ: 魔法・術などの効果量を示す。:INT
きようさ: 使える武器、防具、魔法・術などの種類が増える。:DEX
カリスマ: 人やモンスターに好かれる度合、統率力を示す。:KSM
END_SCENE 1
